


  speedtest:
    image: lscr.io/linuxserver/librespeed
    container_name: speedtest
    hostname: speedtest
    restart: unless-stopped
    environment:
      PUID: 1000
      PGID: 1000
      TZ: Pacific/Auckland
      PASSWORD: testing123
    expose:
      - 80
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.speedtest.rule=Host(`${SPEEDTEST_FQDN}`)"
      - "traefik.http.routers.speedtest.entrypoints=web"
    networks:
      - internal

  homer:
    image: b4bz/homer:latest
    container_name: homer
    hostname: homer
    restart: unless-stopped
    volumes:
      - '/compose/homer.yml:/www/assets/config.yml'
    expose:
      - 8080
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.homer.rule=Host(`${HOMER_FQDN}`)"
      - "traefik.http.routers.homer.entrypoints=web"
    networks:
      - internal

  node_exporter:
    image: prom/node-exporter:latest
    container_name: node-exporter
    hostname: node-exporter
    restart: unless-stopped
    volumes:
      - /proc:/host/proc:ro
      - /sys:/host/sys:ro
      - /:/rootfs:ro
    command:
      - '--path.procfs=/host/proc'
      - '--path.rootfs=/rootfs'
      - '--path.sysfs=/host/sys'
      - '--collector.filesystem.mount-points-exclude=^/(sys|proc|dev|host|etc)($$|/)'
    expose:
      - 9100
    networks:
      - internal




volumes:
  # Service config volumes
  ## Misc
  prometheus_volume:
  jellyfin_volume:
  grafana_volume:
  transmission_config_volume:
  plex_config_volume:
  ## Arr config
  jackett_config_volume:
  radarr_config_volume:
  sonarr_config_volume:
  prowlarr_config_volume:
  # Media volumes - Ext HDD
  # Volume from Device: https://serverfault.com/questions/1053820/can-docker-volumes-be-mounted-from-a-device-instead-of-bind-mounting-a-directory
  media_volume:
    driver: local
    driver_opts:
      type: ext4
      device: /dev/disk/by-uuid/6e364723-d629-4a55-988a-5255b917630c

networks:
  internal:
  external: